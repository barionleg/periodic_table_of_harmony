<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Periodic Table of Harmony</title>                      
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="modal.css">
        <link rel="stylesheet" href="graph.css">
        <script src="https://d3js.org/d3.v6.min.js"></script>
        <!-- <script src="d3.js"></script>  if editing offline-->
    </head>
    
    <body>
        <header>
            <div id="title">
                <h1>Periodic Table of Harmony</h1>
            </div>
            
            <div id="menu-button">
                <a href="#">
                    <svg class="ham hamRotate ham1" viewBox="0 0 100 100" width="80" onclick="this.classList.toggle('active')">
                        <path
                            class="line top"
                            d="m 30,33 h 40 c 0,0 9.044436,-0.654587 9.044436,-8.508902 0,-7.854315 -8.024349,-11.958003 -14.89975,-10.85914 -6.875401,1.098863 -13.637059,4.171617 -13.637059,16.368042 v 40" />
                        <path
                            class="line middle"
                            d="m 30,50 h 40" />
                        <path
                            class="line bottom"
                            d="m 30,67 h 40 c 12.796276,0 15.357889,-11.717785 15.357889,-26.851538 0,-15.133752 -4.786586,-27.274118 -16.667516,-27.274118 -11.88093,0 -18.499247,6.994427 -18.435284,17.125656 l 0.252538,40" />
                    </svg>
                </a>
            </div>
        </header>
        
        <div id='sidebar' class="hidden">
            <h1>Menu coming Soon</h1>            
        </div>
        
        <main>
            <div id="diagram"></div>
            
            <div id="info">
                <a href="#">
                    <svg class="info" viewBox="0 0 330 330">
                         <g>
                          <path id="svg_1" d="m165,0c-90.981,0 -165,74.02 -165,165.001c0,90.981 74.019,164.999 165,164.999s165,-74.018 165,-164.999c0,-90.981 -74.019,-165.001 -165,-165.001zm0,300c-74.44,0 -135,-60.56 -135,-134.999c0,-74.439 60.56,-135.001 135,-135.001s135,60.562 135,135.001c0,74.439 -60.561,134.999 -135,134.999z"/>
                          <path id="svg_2" d="m164.998,70c-11.026,0 -19.996,8.976 -19.996,20.009c0,11.023 8.97,19.991 19.996,19.991c11.026,0 19.996,-8.968 19.996,-19.991c0,-11.033 -8.97,-20.009 -19.996,-20.009z"/>
                          <path id="svg_3" d="m165,140c-8.284,0 -15,6.716 -15,15l0,90c0,8.284 6.716,15 15,15c8.284,0 15,-6.716 15,-15l0,-90c0,-8.284 -6.716,-15 -15,-15z"/>
                         </g>
                    </svg>
                </a>
            </div>
            
            <div id="info-modal" class="modal">
                <div class="modal-content">
                    
                    <span>
                        <a href="#" class="close">&times;</a>
                    </span>
                    
                    
                    <h1>Welcome to The Periodic Table of Harmony </h1>
                    
                    <h2>An interactive network diagram of all possible interval sets in 12-TET.</h2>
                    
                    <p>Each of the 351 nodes on this graph represent a unique set of intervals. Each slice of a node shows the size of the interval by number of half steps (semitones). Rotating a node results in an inversion (for chords) or a mode (for scales). The chart is organized vertically by the number of intervals (and consequently, the number of voices) in each set, and horizontally by the "balance" of intervals in that row. Nodes on the left have large disparities between interval sizes which decreases towards the right of the graph.</p>
                    
                    <p>Links show relationships between similar nodes. Adding a note to a node will divide one of its intervals into two smaller intervals, and the resulting node will appear on the row above. Such nodes are reffered to as <em>parents</em>, while nodes derived by removing an interval are reffered to as <em>children</em>.</p>
                    
                    <p>Some nodes cannot accept additional intervals without introducing contiguous half-steps. They are the 7 scales traditionally used to derive tonal harmony. Such <em>"saturated"</em> nodes have been highlighted with a colored outline.</p>
                    
                    <!--
                    <p>The following assumptions are made:</p>
                    
                    <ul>
                        <li>Multiple voices at the same pitch in any register do not change the quality of the chord</li>
                        <li>Contiguous half steps do not produce tonal stuctures</li>
                    </ul>
                    -->
                    
                    <p>Becuase chords and scales are both defined primarily by their interval composition, they are in that respect one in the same. There are some practical differences between them. Chords: -traditionally built in thirds, -don't terminate at the octave, -typically played harmonically (voices are played simultaneously).
                    Scales: -usually built in steps, typically used melodically (notes played in sequence, such as for one voice) -used to derive harmony from subsets of the scale -typically teminate at the octave. </p>
                    
                    <p> It is primarily the combination of intervals which define a chord or scale's type or <em>quality</em>. However, <em>root perception</em> is important as well. The same set of intervals can be percieved as one of several chords depending on which note is percieved to be the root. Furthermore, intervals can be analyzed differently depending on context. For example, a tritone could be analyzed as an augmented fourth or as a diminished fifth, even though they are both the same frequency ratio, and the same number of half steps. Because chord <em>identity</em> is context-dependent, one should not think of each node as a chord or scale, but rather as a <em>family</em> of chords or scales. </p>
                    
                    <p>
                        Your feedback is appreciated! Please send any questions, comments, edit suggestions, bug reports, feature requests, etc. to: PeriodicTableOfHarmony@gmail.com
                    </p>
                </div>
            </div>
        </main>
        
        <footer>
                <div class="buttons-wrapper" aria-label="Graph display options">
                    <ul class="buttons">
                        <!--
                        <li class="button">
                            <a href="#" class="page-link" aria-label="Previous">
                                <span aria-hidden="true">«</span>
                            </a>
                        </li>
                        -->
                        <li class="button">
                            <a class="page-link" href="#">&#11199;</a>
                            
                            <p class="button-title">Show / hide nodes</p>
                            
                            <div class="dropup-content">
                                
                                <a id="contiguous-btn" href="#">Contiguous half-steps</a>

                                <a id="unselected-btn" href="#">Selected</a>
                            </div>                            
                        </li>
                        
                        <li id="link-btn"  class="button">
                            <a class="page-link" href="#">&#9741;</a>
                            
                            <p class="button-title">Show / hide links</p>
                            
                            <div class="dropup-content">
                                <a id="all-links-btn" href="#">All</a>

                                <a id="inactive-links-btn" href="#">Inactive</a>
                            </div>
                        </li>
                        
                        <li class="button">
                            <a id="clear-btn" class="page-link" href="#">0</a>
                            <p class="button-title">Clear selection</p>
                        </li>
                        
                        <li class="button">
                            <a class="page-link" href="#">&#5585;</a>
                            
                            <p class="button-title">Select connected</p>
                            
                            <div class="dropup-content">
                                <a id="tree-btn" href="#">Family Tree</a>
                                
                                <a id="family-btn" href="#">Immediate Family</a>

                                <a id="parents-btn" href="#">Parents</a>

                                <a id="children-btn" href="#">Children</a>
                            </div>                            
                        </li>
                        
                        <li class="button">
                            <a id="root-btn" class="page-link" href="#">
                                Root
                            </a>
                            
                            <p class="button-title">Root</p>
                            
                            
                            <div class="dropup-content">
                                <a class="note-btn" href="#" value=0>A</a>
                                
                                <a class="note-btn" href="#" value=1 >A♯ / B♭</a>

                                <a class="note-btn" href="#" value=2>B</a>
                                
                                <a class="note-btn" href="#" value=3>C</a>
                                
                                <a class="note-btn" href="#" value=4>C♯ / D♭</a>     

                                <a class="note-btn" href="#" value=5>D</a>
                                
                                <a class="note-btn" href="#" value=6>D♯ / E♭</a>

                                <a class="note-btn" href="#" value=7>E</a>
                                
                                <a class="note-btn" href="#" value=8>F</a>
                                
                                <a class="note-btn" href="#" value=9>F♯ / G♭</a>

                                <a class="note-btn" href="#" value=10>G</a>

                                <a class="note-btn" href="#" value=11>G♯ / A♭</a>                                
                            </div> 
                        </li>
                        <!--
                        <li class="button">
                            <a href="#" class="page-link" aria-label="Next">
                                <span aria-hidden="true">»</span>
                            </a>
                        </li>
                        -->
                    </ul>
                </div>
        </footer>
        
        <script type="module" src="data.js"></script>
        
        <script type="module" src="graph.js"></script>
        
        <script type="text/javascript" src="modal.js"></script>
        
        <script type="text/javascript" src="sidebar.js"></script>
    </body>  
</html>